<!DOCTYPE html>
<html lang="en">

    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Test Environment - Dtective</title>
<meta property="og:title" content="Test Environment" />
<meta name="description" content="After adjusting the environment.properties it is now time to consider the use of testEnvironment.json." />
<meta property="og:description" content="After adjusting the environment.properties it is now time to consider the use of testEnvironment.json." />
<link rel="canonical" href="http://localhost:4000/Dtective/docs/testenvironment/" />
<meta property="og:url" content="http://localhost:4000/Dtective/docs/testenvironment/" />
<meta property="og:site_name" content="Dtective" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-11-07T11:38:15+01:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Test Environment",
"datePublished": "2019-11-07T11:38:15+01:00",
"description": "After adjusting the environment.properties it is now time to consider the use of testEnvironment.json.",
"url": "http://localhost:4000/Dtective/docs/testenvironment/"}</script>
<!-- End Jekyll SEO tag -->

  <meta property="og:image" content="http://localhost:4000/Dtective/uploads/"/>
  <link rel="stylesheet" href="/Dtective/assets/css/main.css">
  <link rel="shortcut icon" type="image/png" href="/Dtective/uploads/favicon.png" >
  <link rel="alternate" type="application/rss+xml" title="Dtective" href="/Dtective/feed.xml">
  <script src="/Dtective/assets/js/main.js"></script>
  
    <script>
function searchResults(form) {

    var currentItem = null;
    var search = document.getElementById(form);
    var results = document.getElementById(form + "-results");
    var toggle = document.getElementById(form + "-toggle");

    function removeActive() {
        for (i = 0; i < results.children.length; i++) {
            results.children[i].classList.remove("uk-background-muted");
        }
    }

    // Detect all clicks on the document
    document.addEventListener("click", function(event) {

        var isClickSearch = false;
        var isClickResults = false;
        var isClickSearchToggle = false;

        if (search !== null) {
            isClickSearch = search.contains(event.target);
        }

        if (results !== null) {
            isClickResults = results.contains(event.target);
        }

        if (toggle !== null) {
            isClickSearchToggle = toggle.contains(event.target);
        }

        if (isClickSearch || isClickSearchToggle) {
            results.style.display = "block";
        }        

        if (!isClickResults && !isClickSearch && !isClickSearchToggle) {
            results.style.display = "none";
        }        
        
    });    

    results.addEventListener("mouseover", function(event) {

        removeActive();
        event.target.parentElement.classList.add("uk-background-muted");
        currentItem = null;

    });

    results.addEventListener("mouseout", function(event) {
        event.target.parentElement.classList.remove("uk-background-muted");
    });


    search.addEventListener("keyup", function(event) {

        var resultItems = results.children;
        var resultCount = results.children.length;
                                
        if (event.keyCode === 40) {

            if (currentItem < (resultCount - 1)) {
                if (currentItem === null) {
                    currentItem = 0;
                } else {
                    removeActive();
                    currentItem++;
                }
                removeActive();
                resultItems[currentItem].classList.add("uk-background-muted");
            }
            
        } else if (event.keyCode === 38) {

            if (currentItem > 0) {
                if (currentItem === null) {
                    currentItem = 0;
                } else {
                    removeActive();
                    currentItem--;
                }
                removeActive();
                resultItems[currentItem].classList.add("uk-background-muted");
            }

        } else if (event.keyCode === 13) {

            resultItems[currentItem].children[0].click();

        }

    });

}
</script>
  
  
  
</head>

    <body>

    
        <div data-uk-sticky="animation: uk-animation-slide-top; sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky; cls-inactive: uk-navbar-transparent; top: 200">
    <nav class="uk-navbar-container">
        <div class="uk-container">
            <div data-uk-navbar>
                <div class="uk-navbar-left">
                    <a class="uk-navbar-item uk-logo uk-visible@m" href="/Dtective/">Dtective</a>
                    
                        <a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas-docs" data-uk-toggle><span data-uk-navbar-toggle-icon></span> <span class="uk-margin-small-left">Docs</span></a>
                    

                    <ul class="uk-navbar-nav uk-visible@m">
                        
                            
                            
                            
                                
                                    
                                        <li><a href="/Dtective/" >Home</a></li>
                                                                                                        
                                
                            
                        
                            
                            
                            
                                
                                    
                                        <li><a href="/Dtective/docs/installation/" >Docs</a></li>
                                                                                                        
                                
                            
                        
                            
                            
                            
                                
                                    
                                        <li><a href="https://github.com/Catena-Media/Dtective" target="_blank" >Repository</a></li>
                                                                                                        
                                
                            
                        
                            
                            
                            
                                
                                    
                                        <li><a href="/Dtective/changelog-timeline/" >Changelog</a></li>
                                                                                                        
                                
                            
                        
                    </ul>
                </div>
                <div class="uk-navbar-center uk-hidden@m">
                    <a class="uk-navbar-item uk-logo" href="/Dtective/">Dtective</a>
                </div>
                <div class="uk-navbar-right">
                    
                        
                            <div>
                                <a id="search-navbar-toggle" class="uk-navbar-toggle" uk-search-icon href="#"></a>
                                <div class="uk-drop uk-background-default uk-border-rounded" uk-drop="mode: click; pos: left-center; offset: 0">
                                    <form class="uk-search uk-search-navbar uk-width-1-1" onsubmit="return false;">
                                        <input id="search-navbar" class="uk-search-input" type="search" placeholder="Search for answers" autofocus autocomplete="off">
                                    </form>
                                    <ul id="search-navbar-results" class="uk-position-absolute uk-width-1-1 uk-list"></ul>
                                </div>
                            </div>
                            <script>
                            SimpleJekyllSearch({
                                searchInput: document.getElementById('search-navbar'),
                                resultsContainer: document.getElementById('search-navbar-results'),
                                noResultsText: '<li class="no-results">No results found</li>',
                                searchResultTemplate: '<li><a href="{url}">{title}</a></li>',
                                json: '/search.json'
                            });
                            searchResults("search-navbar");
                            </script>
                        
                    

                    <ul class="uk-navbar-nav uk-visible@m">
                        
                            
                            
                            
                                
                                    <li><div class="uk-navbar-item"><a class="uk-button uk-button-primary-outline" href="/Dtective/docs/quickstart/" >Start Here üëà</a></div></li>
                                
                            
                        
                            
                            
                            
                                
                                    <li><div class="uk-navbar-item"><a class="uk-button uk-button-success" href="/Dtective/docs/contributing/" >Contribute ‚ù§Ô∏è</a></div></li>
                                
                            
                        
                    </ul>

                    
                        <a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas" data-uk-toggle><span data-uk-navbar-toggle-icon></span> <span class="uk-margin-small-left">Menu</span></a>
                    

                </div>
            </div>
        </div>
    </nav>
</div>
    

    <div class="uk-section">
    <div class="uk-container">
        <div class="uk-grid-large" data-uk-grid>

            <div class="sidebar-fixed-width uk-visible@m">
                <div class="sidebar-docs uk-position-fixed uk-margin-top">
                    
                    <h5>Getting Started</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/overview/">Feature overview</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/quickstart/">Quickstart</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/installation/">Installation</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/ide/">Editor Configuration</a></li>
                    
                    </ul>
                    
                    <h5>Configuration</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/environmentproperties/">Environment properties</a></li>
                    
                      
                      
                      <li class="uk-active"><a href="/Dtective/docs/testenvironment/">Test Environment</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/docker/">Docker</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/allure/">Allure report</a></li>
                    
                    </ul>
                    
                    <h5>Write Tests</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/bdd/">BDD, Cucumber & Gherkin</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/steps/">Extending steps</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/runtests/">Run tests</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/cheatsheet/">Cheat sheet</a></li>
                    
                    </ul>
                    
                    <h5>Contribute</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/roadmap/">Roadmap</a></li>
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/contributing/">Contributing</a></li>
                    
                    </ul>
                    
                    <h5>Help</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/Dtective/docs/support/">Contacting support</a></li>
                    
                    </ul>
                    
                </div>
            </div>

            <div class="uk-width-1-1 uk-width-expand@m">

                <article class="uk-article">

                    <h1 class="uk-article-title">Test Environment</h1>

                    

                    <div class="uk-article-meta uk-margin-top uk-margin-medium-bottom uk-flex uk-flex-middle">
                        



<div>
  
  <time datetime="2019-11-07T11:38:15+01:00" itemprop="datePublished">
    
    Nov 7, 2019
  </time>
</div>
                    </div>

                    <div class="article-content link-primary">
                        <p>After adjusting the <code class="highlighter-rouge">environment.properties</code> it is now time to consider the use of <code class="highlighter-rouge">testEnvironment.json</code>.</p>

<p>The format of this file follows the current structure:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nt">"local-environment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"Service_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:63001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Service_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:63002"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Where key (for example: local-environment) is the reference to the environment where the variables <code class="highlighter-rouge">Service_1</code> and <code class="highlighter-rouge">Service_2</code> will be used.</p>

<p>In <code class="highlighter-rouge">/build/environment/environment.properties</code> set the key <code class="highlighter-rouge">TestEnvironment</code> to correspond to the environment against
 which you want to run the tests. In this case, we would have:</p>

<p><code class="highlighter-rouge">TestEnvironment=local-environment</code></p>

<p>When initialising the test runner,  the value of the key corresponding to the parameter ‚ÄòTestEnvironment‚Äô
will be converted into stored data. So, in the above case, two data stores will be created:</p>

<ul>
  <li><code class="highlighter-rouge">Service_1</code> containing value ‚Äúhttp://localhost:63001‚Äù</li>
  <li><code class="highlighter-rouge">Service_2</code> containing value ‚Äúhttp://localhost:63002‚Äù</li>
</ul>

<p>This means that you can then use these stored data within the Feature steps such as:</p>

<p><code class="highlighter-rouge">Given I open website "{Service_1}"</code> or <code class="highlighter-rouge">Then url contains string "{Service_2}"</code></p>

                        
                    </div>

                    

                    <hr class="uk-margin-medium">

                    


  
  

  
  

  
  

  
  

  
  

  
  
    <div class="uk-margin-large-top paginate-post">
        <div class="uk-child-width-expand@s uk-grid-large uk-pagi" data-uk-grid>
            <div>
                
                  
                  
                  
                    <h5>Environment properties</h5>
                    <div><a class="remove-underline hvr-back" href="/Dtective/docs/environmentproperties/">&larr; Previous</a></div>
                
            </div>
            <div>
                
                  
                  
                  
                    <h5>Docker</h5>
                    <div class="uk-text-center"><a class="remove-underline hvr-forward" href="/Dtective/docs/docker/">Next &rarr;</a></div>
                
            </div>
        </div>
    </div>
    


                    <div class="uk-margin-large-top">
    <h3>Related Docs</h3>

    
    
    

    <ul class="uk-list link-secondary">
    

    
    

    

    
        <li><a href="/Dtective/docs/allure/">Allure report</a></li>
        
        
    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    
    </ul>
</div>


                    
                </article>

                <script>
                    // Table of contents scroll to
                    UIkit.scroll('#markdown-toc a', {
                        duration: 400,
                        offset: 120
                    });
                </script>

            </div>

    </div>
</div>


    <div id="offcanvas-docs" data-uk-offcanvas="overlay: true">
    <div class="uk-offcanvas-bar">

        <button class="uk-offcanvas-close" type="button" data-uk-close></button>

        
        <h5 class="uk-margin-top">Getting Started</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/Dtective/docs/overview/">Feature overview</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/quickstart/">Quickstart</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/installation/">Installation</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/ide/">Editor Configuration</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Configuration</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/Dtective/docs/environmentproperties/">Environment properties</a></li>
        
          
          
          <li class="uk-active"><a href="/Dtective/docs/testenvironment/">Test Environment</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/docker/">Docker</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/allure/">Allure report</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Write Tests</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/Dtective/docs/bdd/">BDD, Cucumber & Gherkin</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/steps/">Extending steps</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/runtests/">Run tests</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/cheatsheet/">Cheat sheet</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Contribute</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/Dtective/docs/roadmap/">Roadmap</a></li>
        
          
          
          <li class=""><a href="/Dtective/docs/contributing/">Contributing</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Help</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/Dtective/docs/support/">Contacting support</a></li>
        
        </ul>
        

    </div>
</div>


    <div id="offcanvas" data-uk-offcanvas="flip: true; overlay: true">
    <div class="uk-offcanvas-bar">

        <a class="uk-logo uk-margin-small-bottom" href="/Dtective/">Dtective</a>
     
        <button class="uk-offcanvas-close" type="button" data-uk-close></button>
      
        <ul class="uk-nav uk-nav-primary uk-margin-top">
            
                

                

                
                    <li><a href="/Dtective/" >Home</a></li>
                
            
                

                

                
                    <li><a href="/Dtective/docs/installation/" >Docs</a></li>
                
            
                

                

                
                    <li><a href="/Dtective/blog/" >Blog</a></li>
                
            
                

                

                
                    <li><a href="/Dtective/docs/quickstart/" >Start Here</a></li>
                
            
                

                

                
                    <li><div class="uk-navbar-item"><a class="uk-button uk-button-success" href="/Dtective/docs/contributing/" >Contribute</a></div></li>
                
            
        </ul>

        <div class="uk-margin-top uk-text-center">
            <div data-uk-grid class="uk-child-width-auto uk-grid-small uk-flex-center uk-grid">
                

<div>
    <a href="https://www.facebook.com/catenamedia/" data-uk-icon="icon: facebook" class="uk-icon-link uk-icon" target="_blank"></a>
</div>




<div>
    <a href="https://www.instagram.com/catenamedia" data-uk-icon="icon: instagram" class="uk-icon-link uk-icon" target="_blank"></a>
</div>







<div>
    <a href="https://github.com/Catena-Media" data-uk-icon="icon: github" class="uk-icon-link uk-icon" target="_blank"></a>
</div>




            </div>
        </div>

    </div>
</div>


    

    
        
    

    

    </body>

</html>
